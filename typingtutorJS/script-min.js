$(document).ready(function(){var e,t,r;$.ajax({url:"article.json",success:function(t){let n=Math.floor(Math.random()*t.length);e=t[n][0],document.querySelector("#origin-text p").innerHTML=t[n][1],r=document.querySelector("#origin-text p").innerHTML,function(){if(null!=localStorage.getItem(e)){var t=JSON.parse(localStorage.getItem(e));t=d(t.min)+":"+d(t.sec)+":"+d(t.mili),a.innerHTML=`Minimum Time : ${t}`}else a.innerHTML="Start the game !!"}()}});const n=document.querySelector(".test-wrapper"),o=document.querySelector("#test-area"),l=document.querySelector("#reset"),i=document.querySelector(".timer"),a=document.querySelector(".min_time"),c=document.querySelector("#debug");var u,s=[0,0,0,0],m=!1;function d(e){return e<=9&&(e="0"+e),e}function g(){s[3]++,s[0]=Math.floor(s[3]/100/60),s[1]=Math.floor(s[3]/100-60*s[0]),s[2]=Math.floor(s[3]-100*s[1]-6e3*s[0]),currentTime=d(s[0])+":"+d(s[1])+":"+d(s[2]),i.innerHTML=currentTime}o.addEventListener("paradown",function(){0!==o.value.length||m||(m=!0,u=setInterval(g,10))},!1),o.addEventListener("paraup",function(){let t=o.value,l=r.substring(0,t.length);t==r?(clearInterval(u),function(){if(null!=localStorage.getItem(e)){let t=JSON.parse(localStorage.getItem(e));6e3*(s[0]-t.min)+100*(s[1]-t.sec)+(s[2]-t.mili)<0&&s[0]+s[1]+s[2]!==0&&(t={min:s[0],sec:s[1],mili:s[2]},localStorage.setItem(e,JSON.stringify(t)))}else s[0]+s[1]+s[2]!==0&&(score={min:s[0],sec:s[1],mili:s[2]},localStorage.setItem(e,JSON.stringify(score)))}(),n.style.borderColor="#429890"):n.style.borderColor=t==l?"#65CCf3":"#E95D0F"},!1),o.addEventListener("paste",t=(e=>e.preventDefault()),!1),l.addEventListener("click",function(){clearInterval(u),u=null,s=[0,0,0,0],m=!1,o.value="",i.innerHTML="00:00:00",n.style.borderColor="grey"},!1),c.addEventListener("click",function(){o.removeEventListener("paste",t)},!1)});
